# Dumps all packets captured from an IP on specified interface
# Usage: dumptrafficfromip IFACE IPADDRESS
# Example: dumptrafficfromip eth0 74.125.67.100

function infomsg () {
    tput setaf 2; echo "$1"; tput sgr0
}
function dumptrafficfromip () {
    if [[ -z $2 ]]; then
        echo "Usage: dumptrafficfromip IFACE IPADDRESS"
    else
        infomsg "Type Control-C to stop capturing traffic."
        tcpdump -i $1 host $2 -w /tmp/dumptrafficfromip -s 1600 -vv
        infomsg "Output in /tmp/dumptrafficfromip."
    fi
}
dumptrafficfromip eth0 
